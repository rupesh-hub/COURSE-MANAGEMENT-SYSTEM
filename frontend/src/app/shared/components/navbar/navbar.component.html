<nav class="fixed top-0 left-0 right-0 z-50 bg-white border-b border-slate-200 shadow-sm" *ngIf="isAuthenticated$ | async">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16">
      
      <!-- Left: Logo -->
      <div class="flex-shrink-0">
        <a href="/" class="flex items-center gap-3 group">
          <div class="w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center text-white font-bold text-lg shadow-md group-hover:shadow-lg transition-shadow">
            <i class="fas fa-book"></i>
          </div>
          <span class="text-slate-900 font-bold text-lg hidden sm:block group-hover:text-blue-600 transition-colors">EduHub</span>
        </a>
      </div>

      <!-- Middle navigation links -->
      <div class="hidden md:flex items-center gap-1">
        <a
          *ngFor="let link of visibleLinks"
          [routerLink]="link.route"
          routerLinkActive="active-top-nav-link"
          [routerLinkActiveOptions]="{ exact: false }"
          class="flex items-center gap-2 text-slate-600 hover:text-blue-600 transition-colors duration-200 px-4 py-2 rounded-lg text-sm font-medium hover:bg-slate-50"
        >
          <i [class]="link.icon + ' w-4'"></i>
          <span>{{ link.label }}</span>
        </a>
      </div>

      <!-- Right: Profile -->
      <div class="relative flex items-center gap-4">
        <div class="flex items-center gap-3 cursor-pointer" (click)="toggleProfileMenu($event)">
          <img
            *ngIf="currentUser$ | async as user"
            [src]="user.profileImage"
            alt="Profile"
            class="w-9 h-9 rounded-full border-2 border-blue-200 hover:border-blue-400 transition-all"
          />
          <i class="fas fa-chevron-down text-slate-400 text-xs ml-1"></i>
        </div>

        <!-- Dropdown -->
        <cms-profile-dropdown
          [isOpen]="isProfileMenuOpen"
          (close)="closeProfileMenu()"
        ></cms-profile-dropdown>
      </div>
    </div>
  </div>
</nav>
